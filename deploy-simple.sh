#!/bin/bash

echo "üöÄ –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π –Ω–∞ Vercel"
echo "================================"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
if [[ -n $(git status --porcelain) ]]; then
    echo "‚ùå –ï—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:"
    git status
    echo ""
    echo "üí° –°–Ω–∞—á–∞–ª–∞ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:"
    echo "   git add . && git commit -m 'your message'"
    exit 1
fi

echo "‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã"
echo "üì§ –ü—É—à–∏–º –Ω–∞ GitHub..."
git push origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "üéâ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—à–µ–Ω –Ω–∞ GitHub!"
    echo ""
    echo "üåê –¢–ï–ü–ï–†–¨ –ó–ê–î–ï–ü–õ–û–ô–¢–ï –í–†–£–ß–ù–£–Æ:"
    echo ""
    echo "1Ô∏è‚É£ –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://vercel.com"
    echo "2Ô∏è‚É£ –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç emigrate_miniapp"
    echo "3Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ 'Redeploy' –∏–ª–∏ 'Deploy'"
    echo ""
    echo "üîë –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –î–û–ë–ê–í–¨–¢–ï –ü–ï–†–ï–ú–ï–ù–ù–£–Æ:"
    echo "   Settings ‚Üí Environment Variables"
    echo "   OPENAI_API_KEY = –≤–∞—à_–∫–ª—é—á"
    echo ""
    echo "üì± –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É—à–µ"
    exit 1
fi
